<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KDex UI Components Test Page</title>
  <link rel="stylesheet" href="/test/main.css" type="text/css">
  <meta name="kdex-ui" data-check-endpoint="/-/check" data-login-endpoint="/-/login" data-logout-endpoint="/-/logout"
    data-path-separator="/-/" data-state-endpoint="/-/state" />
</head>

<body>
  <a href="/app" id="downloads">Home</a> | <a id="signin"></a>

  <div class="test-container">
    <h2>Downloads: Component Testing Area</h2>
    <app-example id="one"></app-example>
    <app-example id="two"></app-example>
  </div>

  <script type="module">
    import { appMeta, userState } from '@kdex/ui';
    import '/test/fixtures/app-example.js';

    document.addEventListener('DOMContentLoaded', async () => {
      const signin = document.getElementById('signin');
      const user = await userState();

      if (user) {
        signin.textContent = 'Sign Out';
        signin.href = appMeta.logoutEndpoint;
      } else {
        signin.textContent = 'Sign In';
        signin.href = appMeta.loginEndpoint;
      }
    });
  </script>
</body>

</html>